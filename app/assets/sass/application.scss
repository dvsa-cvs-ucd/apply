html {
  // Bootstrap.css.min sets <html> font size to 10px
  // Override here to inherit GDS root font size
  font-size: $govuk-root-font-size;

  // stylelint-disable-next-line scss/at-extend-no-missing-placeholder
  @extend .govuk-template;
}

* {
  box-sizing: border-box;
}

body {
  // Reset default margin
  margin: 0;

  // Bootstrap.css.min sets <body> color to #666
  // Override here to ensure input fields and other elements have black text
  color: govuk-colour("black");

  // Bootstrap.css.min sets <body> font size to 14px
  // Override here to inherit GDS root font size
  font-size: $govuk-root-font-size;

  // stylelint-disable-next-line scss/at-extend-no-missing-placeholder
  @extend .govuk-template__body;

  // Override Bootstrap.css.min default link colours
  // and override :visited state so all links have default color values
  a,
  .govuk-link {
    text-decoration: underline;

    &:link {
      color: $govuk-link-colour;
    }

    &:visited {
      color: $govuk-link-colour;
    }

    &:hover {
      color: govuk-colour("dark-blue", $legacy: "light-blue");
    }

    &:focus {
      color: $govuk-focus-text-colour;
    }
  }

  // stylelint-disable-next-line selector-no-qualifying-type
  a.govuk-button {
    text-decoration: none;
  }
}

// Boostrap overrides text input text colour
// Override to use the GDS default
// Move to entity-form
body .form-control {
  color: govuk-colour("black");
}

// Ensure warning text icon has a min-width set
.govuk-warning-text__icon {
  min-width: 34px;
}

// Override bootstrap line height for td/th
.table>tbody>tr>td,
.table>tbody>tr>th,
.table>tfoot>tr>td,
.table>tfoot>tr>th,
.table>thead>tr>td,
.table>thead>tr>th {
  line-height: initial;
}

// Utility class to make the 'govuk-grid-column-*' positioned relative
// to allow absolute positioning inside
.govuk-grid-column-relative {
  position: relative;
}

// Boostrap applies a left and right margin to h1 elements so we reset here
h1 {
  margin-right: 0;
  margin-left: 0;
}

address {
  font-style: normal;
}

.govuk-link .govuk-link-danger {
  color: govuk-colour("red");
}

.govuk-panel__title {
  color: govuk-colour("white") !important;
}

tr>.actions-header {
  text-align: right;
}

div .readable-actions {
  display: flex;
  flex-flow: row wrap;
  justify-content: flex-end;
  gap: 1ch;

  a {
    display: inline-block;
  }
}

.personal-details {
  dt {
    width: 40%;
  }
}

.app-masthead {
  box-sizing: border-box;
  color: govuk-colour("white");
  background: $govuk-brand-colour;
}

.app-masthead h1 {
  margin-bottom: govuk-spacing(3);
}

.app-masthead h1,
.app-masthead .govuk-breadcrumbs__link,
.app-masthead .govuk-breadcrumbs__list-item,
.app-masthead .atf-details,
.app-masthead .atf-details a,
.app-masthead .govuk-body {
  max-width: 70ch;
  color: govuk-colour("white");

  &:focus {
    @include govuk-focused-text;
  }
}

.app-masthead .govuk-breadcrumbs {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: govuk-spacing(2);
}

.app-masthead .govuk-breadcrumbs__list-item::before {
  border-color: govuk-colour("white");
}

.atf-details {
  margin-bottom: govuk-spacing(3);
}

.masthead-heading {
  display: inline-block;
  margin-top: govuk-spacing(9);
  margin-bottom: govuk-spacing(8);
}

.tabs {
  display: flex;
  height: auto;
  flex-flow: row;

  @include govuk-media-query($until: tablet) {
    gap: govuk-spacing(2);
  }

  gap: govuk-spacing(5);
  padding: 0;
}

li.tab-item {
  display: flex;
  height: auto;
  justify-content: center;
  align-items: flex-start;
  list-style: none;
}

.tab-item a {
  height: calc(100% - 0.25rem);
  margin-bottom: 0.25rem;
  padding: govuk-spacing(3) govuk-spacing(4);
  color: $govuk-text-colour !important;
  background-color: govuk-colour("light-grey", $legacy: "grey-3");
  font-weight: 700;
  text-decoration: none;

  @include govuk-media-query($until: tablet) {
    padding: govuk-spacing(2);
    text-align: center;
  }

  &:focus,
  &.active-tab:focus {
    @include govuk-focused-text;
  }

  &:focus,
  &:active {
    padding: govuk-spacing(3) govuk-spacing(4);

    @include govuk-media-query($until: tablet) {
      padding: govuk-spacing(2);
    }
  }

  &.active-tab {
    height: 100%;
    margin-bottom: 0;
    padding: govuk-spacing(3) govuk-spacing(4);
    background-color: govuk-colour("white");

    @include govuk-media-query($until: tablet) {
      padding: govuk-spacing(2);
    }
  }
}

section.tab-content {
  display: none;
}

section.tab-content.active-tab {
  display: block;
}

$chevron-size: 7px;

// Size of chevron border
$chevron-border-width: 1px;

// Colour of chevron
$chevron-border-colour: $govuk-secondary-text-colour;

// Calculated altitude (△↕) of the right-angled isosceles chevron with sides
// of length 8 (7px + 1px border):
//
// √(8² + 8²) * 0.5 ≅ 5.655
$chevron-altitude-calculated: 5.655px;

.nav-card-list {
  display: flex;
  flex-flow: row wrap;
  @extend .govuk-grid-row;
}

.nav-card {
  width: 33%;

  @include govuk-media-query($until: tablet) {
    width: 100%;
  }

  margin-bottom: govuk-spacing(6);
  padding: 0 $govuk-gutter-half;
}

.nav-card dt {
  position: relative;
  margin-bottom: govuk-spacing(2);
  padding-top: govuk-spacing(2);
  border-top: 2px solid $govuk-secondary-text-colour;

  @include govuk-font($size: 24, $weight: bold);

  &::before {
    @extend .govuk-breadcrumbs__list-item, :before;
  }

  &:first-child::before {
    content: "";
    display: block;

    @include govuk-media-query($until: tablet) {
      top: govuk-spacing(3);
    }

    top: govuk-spacing(4);
    right: ((($chevron-altitude-calculated * -2) + $chevron-size + $chevron-border-width) + $govuk-gutter-half);
    left: unset;
    margin: 0;
  }
}

.nav-card dd {
  @include govuk-font($size: 16);
  margin-left: 0;
}

.nav-card a {
  display: inline-block;
  max-width: 95%;
  text-decoration: none;

  &::after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }

  &:focus {
    @include govuk-focused-text;
  }
}

@keyframes phonePopUp {
  from {
    bottom: -25rem;
  }
  to {
    bottom: 0;
  }
}

.phone-frame {
  animation-name: phonePopUp;
  animation-duration: .5s;
  animation-timing-function: ease-out;
  animation-delay: 1s;
  animation-fill-mode: forwards;
  position: fixed;
  bottom: -26.25rem;
  right: 0;
  transform: translate(-25%, 0%);
  width: 23rem;
  height: 25rem;
  box-shadow: 0px 0px 0px 1.25rem rgba(0, 0, 0, 1.0);
  background: linear-gradient(45deg, #5fc9f8, #fecb2e, #fd9426, #fc3158, #147efb, #53d769);
  border-top-left-radius: 16.5%;
  border-top-right-radius: 16.5%;
  display: flex;
  flex-flow: column;
  align-items: center;
  gap: 1rem;

  .icons {
    position: absolute;
    top: 0;
    right: 0;
    margin-top: 1rem;
    margin-right: 1.75rem;
    path, rect {
      fill: white;
    }
    .battery-outline {
      opacity: 0.3;
    }
  }
  .lock {
    transform: translate(0.5rem, 0px);
    path {
      fill: white;
    }
  }

  .camera {
    height: 2rem;
    width: 11rem;
    border-bottom-left-radius: 1rem;
    border-bottom-right-radius: 1rem;
    background: black;
  }

  .datetime-container {
    p {
      font-family: sans-serif;
      color: white;
      text-align: center;
      margin: 0;
    }
    .time {
      font-size: 4rem;
      font-weight: 100;   
    }
    .date {
      font-size: 1.2rem;
    }
  }

  .notification {
    background: rgba(255, 255, 255, 0.7);
    width: 95%;
    border-radius: 1rem;
    padding: .5rem 1rem;
    font-family: sans-serif;
    .notification-heading-wrapper {
      color: #2d2d2d;
      display: flex;
      flex-flow: row;
      align-items: center;
      gap: .5rem;
      svg {
        width: 1.2rem;
        height: 1.2rem;
        display: inline-block;
        }
      .notification-heading-text {
        font-size: .8rem;
        font-weight: 300;
        margin: 0;
        text-transform: uppercase;
      }
      .notification-timestamp {
        font-weight: 100;
        font-size: .8rem;
        text-align: right;
        flex-grow: 1;
      }
    }
    .notification-content {
      .notification-title {
        margin: 1rem 0 .25rem 0;
      }
      .notification-body {
        font-family: sans-serif;
        font-size: 1rem;
      }
    }
  }
}
  